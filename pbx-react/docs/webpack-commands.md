# Webpack Commands

Webpack commands are specified in [package.json](./../package.json) under the `scripts` key.

[package.json](./../package.json) scripts can be executed using any one of the methods below:

```bash
# Via the 'yarn run' short-form (preferred)
yarn <command-name>
# Via 'yarn run'
yarn run <command-name>
# Via 'npm run'
npm run <command-name>
```

Learn more about [yarn run](https://classic.yarnpkg.com/en/docs/cli/run/).

## server

```bash
yarn server
# or
yarn serve
# or
yarn start
# or
yarn s
```

`yarn server` (or `yarn s` for short) is the typical, most-commonly-used build command for development.

`server` runs webpack with all development-specific features enabled. Some features include:

-   A development server (served on `http://<your-vms-ip>:9001/<public project path>`)
-   Sourcemaps enabled
-   Live / Hot-Module Reloading Enabled for both Styles and JS.

## build

```bash
# Creates production build
yarn build

# Creates development build
yarn build-dev
```

There are 2 ways to build the application: `dev` and `prod`.

1. **Dev**: Creates build containing sourcemaps and unminified code.
2. **Prod**: Creates an optimized build with minified code, polyfills, postcss, etc.

Dev is used for development of the app, while production is used for all other environments (dev, uat, sit, beta, staging, prod, etc).

## watch

```bash
# Creates development build, then rebuilds on file changes.
yarn watch
# or
yarn w
```

`yarn watch` (or `yarn w`) creates a development build, then rebuild whenever files are changed.

Most of the time you would use `yarn server` instead for development, but this could be as an alternative in some cases.

## cache:clear

```bash
yarn cache:clear
# or
yarn cc
```

Clears cache files generated by the build process (files located in `./node_modules/.cache/*`).

If you run in to unexpected issues, try the following steps:

1. Stop webpack
2. Clear the cache with `yarn cache:clear`
3. Start webpack

It's also recommended to clear the cache after checking out different branches.

Clearing the cache is known to fix these kinds of errors coming from the webpack console process:
